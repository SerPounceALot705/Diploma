!function(t){var e={};function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=66)}({2:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));class r{constructor(){}setData(t,e){localStorage.setItem(t,JSON.stringify(e))}getData(t){return JSON.parse(localStorage.getItem(t))}deleteData(t){localStorage.removeItem(t)}}},63:function(t,e,a){},66:function(t,e,a){"use strict";a.r(e);a(63);var r=a(2);const n=new class{constructor(){}drawText(t,e){t.textContent=e}drawProcentWeek(t){["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(e=>{const a=document.querySelector(`#${e}`),r=document.querySelector(`#${e}-day`);if(null!=t[e]){a.textContent=t[e].percent,a.style.width=`${t[e].percent}%`;const n=new Date(t[e].date),i=n.toLocaleString("ru",{weekday:"short"}).toUpperCase();r.textContent=`${n.getDate()}, ${i}`}else a.remove(),r.remove()})}},i=new class{constructor(){this.localStorage=new r.a}getTotalResults(){return this.localStorage.getData("cardsArray").totalResults}getAgrigateData(){let t={};const e=this.localStorage.getData("cardsArray"),a=this.localStorage.getData("requestText");return null!=e&&e.articles.forEach(e=>{switch(new Date(e.publishedAt).getDay()){case 1:this._isUndefined(t.monday)&&(t.monday={title:0,description:0}),t.monday=this._agrigateDay(t.monday,e,a),t.monday.date=e.publishedAt;break;case 2:this._isUndefined(t.tuesday)&&(t.tuesday={title:0,description:0}),t.tuesday=this._agrigateDay(t.tuesday,e,a),t.tuesday.date=e.publishedAt;break;case 3:this._isUndefined(t.wednesday)&&(t.wednesday={title:0,description:0}),t.wednesday=this._agrigateDay(t.wednesday,e,a),t.wednesday.date=e.publishedAt;break;case 4:this._isUndefined(t.thursday)&&(t.thursday={title:0,description:0}),t.thursday=this._agrigateDay(t.thursday,e,a),t.thursday.date=e.publishedAt;break;case 5:this._isUndefined(t.friday)&&(t.friday={title:0,description:0}),t.friday=this._agrigateDay(t.friday,e,a),t.friday.date=e.publishedAt;break;case 6:this._isUndefined(t.saturday)&&(t.saturday={title:0,description:0}),t.saturday=this._agrigateDay(t.saturday,e,a),t.saturday.date=e.publishedAt;break;case 0:this._isUndefined(t.sunday)&&(t.sunday={title:0,description:0}),t.sunday=this._agrigateDay(t.sunday,e,a),t.sunday.date=e.publishedAt}}),t.totalTitle=this._getTotal(t,"title"),t.totalDescription=this._getTotal(t,"description"),t.total=t.totalTitle+t.totalDescription,this._calculationPercent(t),t}_isUndefined(t){return void 0===t}_agrigateDay(t,e,a){const r=t.title+this._textRequestCount(a,e.title),n=t.description+this._textRequestCount(a,e.description);return{title:r,description:n,total:r+n}}_textRequestCount(t,e){let a=0;if(null!=e){let r=new RegExp(t.toLowerCase(),"g");a=[...e.toLowerCase().matchAll(r)].length}return a}_getTotal(t,e){let a=0;const r=["totalTitle","totalDescription","total"];return Object.keys(t).forEach(n=>{-1==r.indexOf(n)&&(a+=t[n][e])}),a}_calculationPercent(t){const e=["totalTitle","totalDescription","total"];Object.keys(t).forEach(a=>{if(-1==e.indexOf(a)){const e=t[a].total;t[a].percent=0==e?0:Math.trunc(e/t.total*100)}})}},o=new r.a,s=i.getTotalResults(),d=i.getAgrigateData();n.drawText(document.querySelector("#total-results"),s),n.drawText(document.querySelector("#total-mention"),d.totalTitle),n.drawText(document.querySelector(".statistics__title"),`Вы спросили: «${o.getData("requestText")}»`),n.drawText(document.querySelector(".analytics-by-day__date"),(new Date).toLocaleString("ru",{month:"long"})),n.drawProcentWeek(d)}});